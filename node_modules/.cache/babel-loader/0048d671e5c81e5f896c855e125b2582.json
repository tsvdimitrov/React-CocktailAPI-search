{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tsvetomir\\\\Desktop\\\\SoftUni\\\\React-CocktailAPI-search\\\\src\\\\context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { useCallback } from \"react\";\nimport SearchForm from \"./components/SearchForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = \"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";\nconst AppContext = /*#__PURE__*/React.createContext();\n\nconst AppProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"a\");\n  const [cocktails, setCocktails] = useState([]); // console.log(cocktails);\n\n  const fetchDrinks = useCallback(async () => {\n    setLoading(true);\n\n    try {\n      const response = await fetch(`${url}${searchTerm}`);\n      const data = await response.json();\n      const {\n        drinks\n      } = data;\n\n      if (drinks) {\n        const newCocktails = drinks.map(item => {\n          const {\n            idDrink,\n            strDrink,\n            strDrinkThumb,\n            strAlcoholic,\n            strGlass\n          } = item;\n          return {\n            id: idDrink,\n            name: strDrink,\n            image: strDrinkThumb,\n            info: strAlcoholic,\n            glass: strGlass\n          };\n        });\n        setCocktails(newCocktails);\n      } else {\n        setCocktails([]);\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  }, [searchTerm]);\n  useEffect(() => {\n    fetchDrinks();\n  }, [searchTerm, fetchDrinks]);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      loading,\n      searchTerm,\n      cocktails,\n      setCocktails,\n      setSearchTerm\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}; // make sure use\n\n\n_s(AppProvider, \"Z9tIWfQ3FTeG9wqkGHESGx++BU0=\");\n\n_c = AppProvider;\nexport const useGlobalContext = () => {\n  _s2();\n\n  return useContext(AppContext);\n};\n\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport { AppContext, AppProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useCallback","SearchForm","url","AppContext","createContext","AppProvider","children","loading","setLoading","searchTerm","setSearchTerm","cocktails","setCocktails","fetchDrinks","response","fetch","data","json","drinks","newCocktails","map","item","idDrink","strDrink","strDrinkThumb","strAlcoholic","strGlass","id","name","image","info","glass","error","console","log","useGlobalContext"],"sources":["C:/Users/Tsvetomir/Desktop/SoftUni/React-CocktailAPI-search/src/context.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useCallback } from \"react\";\r\nimport SearchForm from \"./components/SearchForm\";\r\n\r\nconst url = \"https://www.thecocktaildb.com/api/json/v1/1/search.php?s=\";\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState(\"a\");\r\n    const [cocktails, setCocktails] = useState([]);\r\n    // console.log(cocktails);\r\n    const fetchDrinks = useCallback(async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await fetch(`${url}${searchTerm}`);\r\n            const data = await response.json();\r\n            const { drinks } = data;\r\n\r\n            if (drinks) {\r\n                const newCocktails = drinks.map((item) => {\r\n                    const { idDrink, strDrink, strDrinkThumb, strAlcoholic, strGlass } =\r\n                        item;\r\n                    return {\r\n                        id: idDrink,\r\n                        name: strDrink,\r\n                        image: strDrinkThumb,\r\n                        info: strAlcoholic,\r\n                        glass: strGlass,\r\n                    };\r\n                });\r\n                setCocktails(newCocktails);\r\n            } else {\r\n                setCocktails([]);\r\n            }\r\n            setLoading(false);\r\n        } catch (error) {\r\n            console.log(error);\r\n            setLoading(false);\r\n        }\r\n    }, [searchTerm]);\r\n\r\n    useEffect(() => {\r\n        fetchDrinks();\r\n    }, [searchTerm, fetchDrinks]);\r\n\r\n    return (\r\n        <AppContext.Provider\r\n            value={{ loading, searchTerm, cocktails, setCocktails, setSearchTerm }}\r\n        >\r\n            {children}\r\n        </AppContext.Provider>\r\n    );\r\n};\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n    return useContext(AppContext);\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;AAEA,MAAMC,GAAG,GAAG,2DAAZ;AACA,MAAMC,UAAU,gBAAGP,KAAK,CAACQ,aAAN,EAAnB;;AAEA,MAAMC,WAAW,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAClC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,GAAD,CAA5C;EACA,MAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,EAAD,CAA1C,CAHkC,CAIlC;;EACA,MAAMgB,WAAW,GAAGb,WAAW,CAAC,YAAY;IACxCQ,UAAU,CAAC,IAAD,CAAV;;IACA,IAAI;MACA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEb,GAAI,GAAEO,UAAW,EAArB,CAA5B;MACA,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;MACA,MAAM;QAAEC;MAAF,IAAaF,IAAnB;;MAEA,IAAIE,MAAJ,EAAY;QACR,MAAMC,YAAY,GAAGD,MAAM,CAACE,GAAP,CAAYC,IAAD,IAAU;UACtC,MAAM;YAAEC,OAAF;YAAWC,QAAX;YAAqBC,aAArB;YAAoCC,YAApC;YAAkDC;UAAlD,IACFL,IADJ;UAEA,OAAO;YACHM,EAAE,EAAEL,OADD;YAEHM,IAAI,EAAEL,QAFH;YAGHM,KAAK,EAAEL,aAHJ;YAIHM,IAAI,EAAEL,YAJH;YAKHM,KAAK,EAAEL;UALJ,CAAP;QAOH,CAVoB,CAArB;QAWAd,YAAY,CAACO,YAAD,CAAZ;MACH,CAbD,MAaO;QACHP,YAAY,CAAC,EAAD,CAAZ;MACH;;MACDJ,UAAU,CAAC,KAAD,CAAV;IACH,CAtBD,CAsBE,OAAOwB,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACAxB,UAAU,CAAC,KAAD,CAAV;IACH;EACJ,CA5B8B,EA4B5B,CAACC,UAAD,CA5B4B,CAA/B;EA8BAV,SAAS,CAAC,MAAM;IACZc,WAAW;EACd,CAFQ,EAEN,CAACJ,UAAD,EAAaI,WAAb,CAFM,CAAT;EAIA,oBACI,QAAC,UAAD,CAAY,QAAZ;IACI,KAAK,EAAE;MAAEN,OAAF;MAAWE,UAAX;MAAuBE,SAAvB;MAAkCC,YAAlC;MAAgDF;IAAhD,CADX;IAAA,UAGKJ;EAHL;IAAA;IAAA;IAAA;EAAA,QADJ;AAOH,CA9CD,C,CA+CA;;;GA/CMD,W;;KAAAA,W;AAgDN,OAAO,MAAM8B,gBAAgB,GAAG,MAAM;EAAA;;EAClC,OAAOrC,UAAU,CAACK,UAAD,CAAjB;AACH,CAFM;;IAAMgC,gB;;AAIb,SAAShC,UAAT,EAAqBE,WAArB"},"metadata":{},"sourceType":"module"}